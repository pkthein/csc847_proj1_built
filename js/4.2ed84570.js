(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"8b24":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{attrs:{align:""}},[n("div",{staticClass:"q-mt-xl",attrs:{align:"center"}},[n("q-table",{staticStyle:{width:"90vw","max-width":"1000px"},attrs:{color:"secondary","row-key":"name",data:e.data,columns:e.columns,filter:e.finalFilter,loading:e.loading,pagination:e.pagination,separator:"cell"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top-left",fn:function(){return[n("q-btn",{attrs:{round:"",icon:"add",color:"secondary"},on:{click:function(t){e.dialog.active=!0,e.dialog.option="add",e.newStudent={}}}})]},proxy:!0},{key:"top-right",fn:function(){return[n("q-toolbar",[n("q-input",{attrs:{dense:"",debounce:"300",color:"primary",placeholder:"Search"},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchFilter(t)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.filter=""}]},scopedSlots:e._u([{key:"append",fn:function(){return[""===e.filter?n("q-icon",{attrs:{name:"search"}}):n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"clear"},on:{click:function(t){e.filter=""}}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1)]},proxy:!0},{key:"header",fn:function(t){return[n("q-tr",{attrs:{props:t}},e._l(t.cols,(function(a){return n("q-th",{key:a.name,staticStyle:{"font-size":"18px","font-weight":"normal"},attrs:{props:t}},[e._v("\n            "+e._s(a.label)+"\n          ")])})),1)]}},{key:"body",fn:function(t){return[n("q-tr",{attrs:{props:t}},[n("q-td",{key:"name",attrs:{props:t}},[n("div",{staticClass:"q-ml-sm",attrs:{align:"left"}},[e._v("\n              "+e._s(t.row.lastName)+", "+e._s(t.row.firstName)+"\n            ")])]),n("q-td",{key:"uuid",attrs:{props:t}},[n("div",{attrs:{align:"center"}},[e._v("\n              "+e._s(t.row.id)+"\n            ")])]),n("q-td",{key:"email",attrs:{props:t}},[n("div",{attrs:{align:"center"}},[e._v("\n              "+e._s(t.row.email)+"\n            ")])]),n("q-td",{key:"gpa",attrs:{props:t}},[n("div",{attrs:{align:"center"}},[e._v("\n              "+e._s(t.row.gpa)+"\n            ")])]),n("q-td",{key:"address",attrs:{props:t}},[n("div",{attrs:{align:"left"}},[e._v("\n              "+e._s(t.row.address)+"\n            ")])]),n("q-td",{key:"icons",staticStyle:{width:"100px"},attrs:{props:t}},[n("q-btn",{attrs:{dense:"",round:"",flat:"",color:"secondary",icon:"edit"},on:{click:function(n){return e.editStudent(t.row.uid)}}}),n("q-btn",{attrs:{dense:"",round:"",flat:"",color:"secondary",icon:"delete"},on:{click:function(n){return e.deleteStudent(t.row.uid,t.row.id)}}})],1)],1)]}}])})],1),n("q-dialog",{attrs:{persistent:"",maximized:"","transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialog.active,callback:function(t){e.$set(e.dialog,"active",t)},expression:"dialog.active"}},[n("q-card",["add"===e.dialog.option?n("q-card-section",[n("q-page",[n("div",{staticClass:"text-bold",staticStyle:{"font-size":"2em"}},[e._v("\n            Add Student\n            "),n("hr",{staticStyle:{"margin-top":"-4px"}})]),n("div",{staticClass:"q-gutter-sm"},[n("q-input",{attrs:{dense:"",rounded:"",outlined:"",placeholder:"First Name"},model:{value:e.newStudent.firstName,callback:function(t){e.$set(e.newStudent,"firstName",t)},expression:"newStudent.firstName"}}),n("q-input",{attrs:{dense:"",rounded:"",outlined:"",placeholder:"Last Name"},model:{value:e.newStudent.lastName,callback:function(t){e.$set(e.newStudent,"lastName",t)},expression:"newStudent.lastName"}}),n("q-input",{attrs:{dense:"",rounded:"",outlined:"",placeholder:"SID"},model:{value:e.newStudent.id,callback:function(t){e.$set(e.newStudent,"id",t)},expression:"newStudent.id"}}),n("q-input",{attrs:{type:"email",dense:"",rounded:"",outlined:"",placeholder:"Email"},model:{value:e.newStudent.email,callback:function(t){e.$set(e.newStudent,"email",t)},expression:"newStudent.email"}}),n("q-input",{attrs:{type:"number",dense:"",rounded:"",outlined:"",placeholder:"GPA"},model:{value:e.newStudent.gpa,callback:function(t){e.$set(e.newStudent,"gpa",t)},expression:"newStudent.gpa"}}),n("q-input",{attrs:{dense:"",rounded:"",outlined:"",placeholder:"Mailing Address"},model:{value:e.newStudent.address,callback:function(t){e.$set(e.newStudent,"address",t)},expression:"newStudent.address"}})],1),n("div",{staticClass:"q-mt-sm",attrs:{align:"right"}},[n("q-btn",{staticStyle:{width:"300px"},attrs:{rounded:"",outline:""},on:{click:function(t){return e.addNewStudent()}}},[e._v("Submit")])],1)])],1):e._e(),"edit"===e.dialog.option?n("q-card-section",[n("q-page",[n("div",{staticClass:"text-bold",staticStyle:{"font-size":"2em"}},[e._v("\n            Edit Student\n            "),n("hr",{staticStyle:{"margin-top":"-4px"}})]),n("div",{staticClass:"q-gutter-sm"},[n("q-input",{attrs:{dense:"",rounded:"",outlined:"",placeholder:"First Name"},model:{value:e.newStudent.firstName,callback:function(t){e.$set(e.newStudent,"firstName",t)},expression:"newStudent.firstName"}}),n("q-input",{attrs:{dense:"",rounded:"",outlined:"",placeholder:"Last Name"},model:{value:e.newStudent.lastName,callback:function(t){e.$set(e.newStudent,"lastName",t)},expression:"newStudent.lastName"}}),n("q-input",{attrs:{dense:"",rounded:"",outlined:"",placeholder:"SID"},model:{value:e.newStudent.id,callback:function(t){e.$set(e.newStudent,"id",t)},expression:"newStudent.id"}}),n("q-input",{attrs:{type:"email",dense:"",rounded:"",outlined:"",placeholder:"Email"},model:{value:e.newStudent.email,callback:function(t){e.$set(e.newStudent,"email",t)},expression:"newStudent.email"}}),n("q-input",{attrs:{type:"number",dense:"",rounded:"",outlined:"",placeholder:"GPA"},model:{value:e.newStudent.gpa,callback:function(t){e.$set(e.newStudent,"gpa",t)},expression:"newStudent.gpa"}}),n("q-input",{attrs:{dense:"",rounded:"",outlined:"",placeholder:"Mailing Address"},model:{value:e.newStudent.address,callback:function(t){e.$set(e.newStudent,"address",t)},expression:"newStudent.address"}})],1),n("div",{staticClass:"q-mt-sm",attrs:{align:"right"}},[n("q-btn",{staticStyle:{width:"300px"},attrs:{rounded:"",outline:""},on:{click:function(t){return e.addUpdate()}}},[e._v("Update")])],1)])],1):e._e(),n("q-btn",{staticClass:"absolute i-dialog-close",attrs:{round:"",dense:"",color:"secondary",icon:"close"},on:{click:function(t){e.dialog.active=!1}}})],1)],1)],1)},i=[],d=(n("4e82"),n("59ca")),s=n.n(d);n("e71f");const l={apiKey:"AIzaSyAJqJLzfDPcE98hou8iEnK9lo2g_R4lJeM",authDomain:"photowall-257b0.firebaseapp.com",databaseURL:"https://photowall-257b0.firebaseio.com",projectId:"photowall-257b0",storageBucket:"photowall-257b0.appspot.com",messagingSenderId:"133632298769",appId:"1:133632298769:web:d307c5ecf1ecee0f6e06b0"},o=s.a.initializeApp(l),r=o.firestore();var u={name:"PageIndex",components:{},created(){this.db=r,this.getStudents()},data(){return{db:null,uuid:"",data:[],newStudent:{},dialog:{active:!1,option:null},filter:"",finalFilter:"",loading:!1,pagination:{rowsPerPage:10,sortBy:"name",descending:!1},columns:[{name:"name",required:!0,align:"center",label:"Student Name",field:e=>e.lastName+e.firstName,sortable:!0},{name:"uuid",required:!0,label:"SID",align:"center",field:e=>e.id,sortable:!0},{name:"email",required:!0,align:"center",label:"Email",sortable:!0},{name:"gpa",required:!0,label:"GPA",align:"center",sortable:!0},{name:"address",required:!0,label:"Mailing Address",align:"center",sortable:!0},{name:"icons",align:"center",label:""}]}},methods:{addNewStudent:function(){if(this.newStudent.firstName&&this.newStudent.lastName&&this.newStudent.id&&this.newStudent.email&&this.newStudent.gpa&&this.newStudent.address)return this.newStudent.gpa.includes(".")||(this.newStudent.gpa=this.newStudent.gpa+".0"),this.db.collection("students").doc().set(this.newStudent).then(()=>{this.data.push(this.newStudent),this.dialog.active=!1,this.data.sort((e,t)=>e.lastName<t.lastName?-1:e.lastName>t.lastName?1:0),this.$q.notify({type:"positive",message:"Added sucessfully!",timeout:500})})},addUpdate:function(){if(this.newStudent.firstName&&this.newStudent.lastName&&this.newStudent.id&&this.newStudent.email&&this.newStudent.gpa&&this.newStudent.address){this.newStudent.gpa.includes(".")||(this.newStudent.gpa=this.newStudent.gpa+".0");const e=this.newStudent.uid;return delete this.newStudent.uid,this.db.collection("students").doc(e).update(this.newStudent).then(()=>{this.dialog.active=!1,this.$q.notify({type:"positive",message:"Added sucessfully!",timeout:500})})}},searchFilter:function(){this.finalFilter=this.filter,this.$router.push({path:"/",query:{filter:this.filter}})},getStudents:function(){return this.db.collection("students").get().then(e=>{e.forEach(e=>{const t=e.data();t.uid=e.id,this.data.push(t)})}).catch(e=>{})},deleteStudent:function(e,t){this.$q.dialog({title:"Confirmation to Delete",message:`Delete ${t}?`,ok:!0,cancel:!0}).onOk(()=>this.db.collection("students").doc(e).delete().then(()=>{this.data=this.data.filter(t=>t.uid!==e),this.$q.notify({type:"positive",message:"Deleted sucessfully!",timeout:500})}).catch(e=>{})).onCancel(()=>{})},editStudent:function(e){this.newStudent=this.data.filter(t=>t.uid===e)[0],this.dialog.active=!0,this.dialog.option="edit"}}},c=u,p=n("2877"),m=n("9989"),f=n("eaac"),h=n("9c40"),w=n("65c6"),S=n("27f9"),g=n("0016"),b=n("bd08"),y=n("357e"),q=n("db86"),v=n("24e8"),k=n("f09f"),x=n("a370"),N=n("eebe"),_=n.n(N),$=Object(p["a"])(c,a,i,!1,null,null,null);t["default"]=$.exports;_()($,"components",{QPage:m["a"],QTable:f["a"],QBtn:h["a"],QToolbar:w["a"],QInput:S["a"],QIcon:g["a"],QTr:b["a"],QTh:y["a"],QTd:q["a"],QDialog:v["a"],QCard:k["a"],QCardSection:x["a"]})}}]);